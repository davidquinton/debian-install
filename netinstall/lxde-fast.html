---
layout: default
description: Installing Debian from the Netinstall CD with LXDE - fast method - by D Quinton
title: LXDE fast install
id: net
---
<div class="onpage">
  <ul>
    <li>
        On this page &nbsp;&nbsp;&nbsp;  &nbsp;&nbsp;&nbsp; <a href="#">TOP</a>
             <ul>
                <li><a href="#1">Overview of the install</a></li>
                <li><a href="#xorg">Xorg error</a></li>
                <li><a href="#3">Install packages</a></li>
                <li><a href="#4">Last set up things</a></li>
                <li><a href="#5">Post netinstall scripts</a></li>
                </ul>
    </li>
  </ul>
</div>

<div class="pagemenu">
<table cellpadding="5"><tr><td>
   <a href="#1">Overview of the install</a><br>
   <a href="#xorg">Xorg error</a><br>
   <a href="#3">Install packages</a><br>
   <a href="#4">Last set up things</a><br>
   <a href="#5">Post netinstall scripts</a><br>
</td></tr></table></div>
<div class="parent"><a href="../netinstall.html">Netinstall</a> ></div>

<div class="cont">

<h2 id="1" class="tag">Overview of the install</h2>
updated June 2020
<br><br>
<br>
It looks like this for the Netinstall CD..
<div class="numb"><ol><li>Run the Netinstall CD</li>
<li>Restart and login to root</li>
<li>check sources file, sudoers, fstab, interfaces</li>
<li>copy config files to home, or mount home if partition already present</li>
<li>run apt update and apt full-upgrade, then install the desktop...</li>

</ol></div>

<br><br>
<b>for LXDE</b>
<form>
<textarea name="T" id="install" rows="3" cols="100">
apt-get install xorg lxde lightdm lxtask xfce4-power-manager pm-utils hdparm cpufrequtils cpulimit alsa-utils wicd tango-icon-theme dmz-cursor-theme moblin-cursor-theme obconf obmenu openbox-menu lxappearance-obconf geany rxvt-unicode bash-completion htop elinks gparted xcape</textarea>
&nbsp;<input type="button" class="submitLink" value="Select all" onClick="javascript:this.form.T.focus();this.form.T.select();">
</form>
<br>

add if you like: <span class="inst">synaptic apt-xapian-index gdebi</span>
<br><br>

I go without lxde and lightdm now, and add here: <span class="inst">openbox lxpanel lxtask leafpad</span>
<br><br>
and you may need firmware such as <span class="inst">firmware-amd-graphics firmware-linux firmware-linux-nonfree firmware-iwlwifi </span>


<br><br><br>

<b>for plain openbox</b>
<form>
<textarea name="T" id="install" rows="4" cols="100">
apt-get install xorg lxtask pm-utils hdparm cpufrequtils cpulimit alsa-utils openbox lxpanel lxtask lxpolkit wicd tango-icon-theme obconf obmenu openbox-menu lxappearance-obconf moblin-cursor-theme rxvt-unicode geany xfce4-power-manager htop elinks gparted bash-completion ntp xcape </textarea>
&nbsp;<input type="button" class="submitLink" value="Select all" onClick="javascript:this.form.T.focus();this.form.T.select();">
</form>
<br><br>


necessary packages and may be missing after a Netinstall without internet:
<form>
<textarea name="T" id="install" rows="2" cols="80">
apt-get install aptitude sudo grub2 laptop-mode-tools network-config iw rfkill lshw</textarea>
&nbsp;<input type="button" class="submitLink" value="Select all" onClick="javascript:this.form.T.focus();this.form.T.select();">
</form>
<br>
<br><br>


<b id="xorg" class="tag">Possible error with Xorg</b> without installing a display manager, when you run startx:
<br><br>
<span style="color:#800080;">parse_vt_settings Cannot open /dev/tty0 (Permission Denied)</span>
<br><br>
or<br>
<span style="color:#800080;">xf86OpenConsole: Cannot open virtual console 7 (Permission Denied)</span>
<br><br>
fix with:
<form>
<textarea name="T" id="install" rows="1" cols="50">
apt-get install xserver-xorg-legacy</textarea>
&nbsp;<input type="button" class="submitLink" value="Select all" onClick="javascript:this.form.T.focus();this.form.T.select();">
</form>

<form>
<textarea name="T" id="cmd" rows="1" cols="50">
sudo nano /etc/X11/Xwrapper.conf</textarea>
&nbsp;<input type="button" class="submitLink" value="Select all" onClick="javascript:this.form.T.focus();this.form.T.select();">
</form>
<br>
change "allowed_users=console"<br>
to<br>

<form>
<textarea name="T" id="file" rows="2" cols="30">
allowed_users=anybody
needs_root_rights=yes</textarea>
&nbsp;<input type="button" class="submitLink" value="Select all" onClick="javascript:this.form.T.focus();this.form.T.select();">
</form>
<br>
or the other way is to install elogind with,
<form>
<textarea name="T" id="install" rows="1" cols="50">
apt-get install elogind libpam-elogind</textarea>
&nbsp;<input type="button" class="submitLink" value="Select all" onClick="javascript:this.form.T.focus();this.form.T.select();">
</form>

<br><br><br>


<b id="3" class="tag">6.&nbsp;&nbsp; Install packages</b>
<br><br>


Thunar file manager..
<form>
<textarea name="T" id="install" rows="2" cols="100">
apt-get install thunar thunar-volman thunar-archive-plugin thunar-media-tags-plugin tumbler tumbler-plugins-extra xdg-user-dirs feh imagemagick </textarea>
&nbsp;<input type="button" class="submitLink" value="Select all" onClick="javascript:this.form.T.focus();this.form.T.select();">
</form>

Ranger, file-system utils, printing, bluetooth
<form>
<textarea name="T" id="install" rows="3" cols="100">
apt-get install ranger feh imagemagick exiftool w3m w3m-img less xsel xvkbd atool mediainfo jhead ffmpegthumbnailer  trash-cli bluetooth blueman zip unzip bzip2 p7zip-full ntfs-3g blktool dosfstools mtools testdisk gvfs sshfs locate git cups gpa ntp yad rpl partclone fsarchiver</textarea>
&nbsp;<input type="button" class="submitLink" value="Select all" onClick="javascript:this.form.T.focus();this.form.T.select();">
</form>
<br>


media player/encoder/desktop apps..
<form>
<textarea name="T" id="install" rows="3" cols="100">
apt-get install mpv handbrake audacious lame gimp inkscape abcde eyed3 xpdf x11-apps gpsbabel clipit uget clamtk gdmap bleachbit meld regexxer xiphos fonts-sil-ezra rkhunter chkrootkit goldendict transmission easytag xfce4-notes-plugin bluefish yelp filezilla </textarea>
&nbsp;<input type="button" class="submitLink" value="Select all" onClick="javascript:this.form.T.focus();this.form.T.select();">
</form>
<br><br>



no longer with me, but could be useful:<br>
<span class="inst">marble pinta cheese catfish pyrenamer xfburn xpad</span>
<br><br>
Just add/remove what you like from this.
<br><br>

 
<br><br>
<b>7. </b>&nbsp;&nbsp;Install the build dependencies (as on the Netinstall page) 
<br><br>

with a fast connection you can get this done in an hour, but then setting up takes time - of course, days!<br>
You can always cancel apt downloading of packages and resume it later on, just use Ctrl-C to cancel.  Press up arrow and Enter in the terminal to hit the same apt-get command again and apt will continue with downloading.


<br><br>


Which leaves <span class="blue">Ranger, compton, Libre Office, video editors, ffmpeg, XnViewMP, Vivaldi, Viking, Qgis, Refractasnapshot </span> ......to install from downloaded packages.


<br><br><br><br>
<h3 id="4" class="tag">Last set up things</h3>
power options in Xfce-power-manager
<br><br>
edit ~/.config/user-dirs.dirs to change which dir's get the "Documents", "Music", "Video" icons in Thunar, if installed.
<br><br>

If you install Synaptic and you want a launcher: copy the .desktop file from /usr/share/app's to ~/.local/share/applications/ and change "Exec=synaptic" to: <span style="color:#076b00">Exec=gksu /usr/sbin/synaptic</span>, or use the command in openbox menu (see configuring lxde)


<br><br><br>

<h3 id="5" class="tag">Post netinstall scripts</h3>
These are pretty basic but they help to automate some work and help me not to forget anything at the time. Adapt them to your needs.
<br><br>
<b>1. system files setup script</b>
<br><br>

the system files that I rsync to the new system are contained in a heap of folders in a dir called netinstall_1910, that are named with the location the files are normally found at, e.g. etc-xdg-menus folder contains files found at /etc/xdg/menus.
<br><br>
for how to chroot, see my  <a href="{{site.baseurl}}/helps/03-chrooting.html">chrooting page</a>
<br><br>
<form>
<textarea name="T" id="file" rows="30" cols="120">
#!/bin/bash
#script to set up system files, run in chroot env, as root - Quinton, 10/2019
#chroot the new install, in booted system run `sudo rsync -arult netinstall_1910 /mnt/tmp`, then at chroot prompt `cd /tmp/netinstall_1910` and run this script, or paste parts of it on the command line

#enter your username for setting up groups
USER=

#add groups
for g in dialout plugdev lpadmin admin clamav fuse audio ;do groupadd -f $g
for g in netdev dialout plugdev lpadmin admin clamav fuse audio sudo ;do adduser $USER $g; done


#add nopasswd line to sudoers, to allow for script to call shutdown, reboot and suspend without getting stuck for need of user password
echo %sudo ALL=NOPASSWD: /sbin/shutdown, /sbin/reboot, /usr/sbin/pm-suspend >> /etc/sudoers

#check that hostname is correct =hostname at install
nano /etc/hostname

#iptables (firewall)
rsync -art etc/iptables.up.rules /etc

#apt lists
rsync -arult etc-apt/ /etc/apt

#udisks2 file for automounting, if no display manager
rsync -art etc-polkit-1--localauthority-50-local.d/ /etc/polkit-1/localauthority/50-local.d

rsync -art etc-X11-cursors/ /etc/X11/cursors 
rsync -arult etc-xdg-menus/ /etc/xdg/menus
rsync -arult lib-firmware/ /lib/firmware

#root config files, such as colours, bash alias, ranger
rsync -arult root/ /root

#xs script and any other home-made sys-level script
rsync -art usr-bin/ /usr/bin

#screen resolution, leave for laptop (low res screen)
#mkdir /etc/X11/xorg.conf.d && rsync -art etc-X11-xorg.conf.d/ /etc/X11/xorg.conf.d


</textarea>
&nbsp;<input type="button" class="submitLink" value="Select all" onClick="javascript:this.form.T.focus();this.form.T.select();">
</form>
<br>

<b>2. Package install script</b>
<form>
<textarea name="T" id="file" rows="50" cols="120">
#!/bin/bash
#script to install packages after new Netinstall, run in chroot env from running Linux system - Quinton, 06/2020
#included here are 1. possible missed pkgs from netinstall, 2. openbox desktop (no display mgr), 3. thunar file man, 4. ranger with media viewers, file archiving, disk utilities, printing, bluetooth, android, etc, 5. media editors and desktop apps, 6. build dependencies, 7. ffmpeg build deps, 8. viking build deps, 9. jekyll pre-install, 10. refractasnapshot deps,


apt update
apt dist-upgrade

#1
apt install sudo grub2 network-config iw rfkill lshw 

#2
apt install xorg pm-utils hdparm cpufrequtils cpulimit alsa-utils openbox lxpanel lxtask lxpolkit wicd tango-icon-theme obconf obmenu openbox-menu lxappearance-obconf moblin-cursor-theme rxvt-unicode htop elinks gparted bash-completion xcape firmware-amd-graphics firmware-linux firmware-linux-nonfree firmware-iwlwifi elogind libpam-elogind 

#3
apt install thunar thunar-volman thunar-archive-plugin tumbler tumbler-plugins-extra thunar-media-tags-plugin xdg-user-dirs 

#4
apt install ranger w3m w3m-img less xsel xvkbd atool mediainfo jhead ffmpegthumbnailer trash-cli exiftool feh imagemagick zip unzip bzip2 p7zip-full ntfs-3g blktool dosfstools mtools testdisk partclone sshfs locate git cups gpa ntp yad rpl bluetooth blueman mtp-tools go-mtpfs adb pmount udiskie gvfs 

#5
apt install mpv vlc handbrake audacious gnome-sound-recorder lame gimp inkscape abcde eyed3 xpdf x11-apps geany gpsbabel clipit uget clamtk gdmap bleachbit ksnapshot kcharselect meld regexxer xiphos fonts-sil-ezra rkhunter chkrootkit goldendict transmission easytag xfce4-notes-plugin bluefish yelp dvdbackup ttf-mscorefonts-installer screengrab

#6
apt install build-essential intltool pkg-config libalglib-dev libglib2.0-dev libdbus-1-dev libdbus-glib-1-dev libx11-dev libgtk2.0-dev libwnck-dev libgudev-1.0-dev libgtkmm-2.4-dev libssl-dev libnotify-dev gcc make cmake yasm libqt4-dev kdelibs5-dev libsdl1.2-dev libsdl-image1.2-dev libxml2-dev 

#7
apt install libtheora-dev libxvidcore-dev libogg-dev libvorbis-dev libmp3lame-dev libfaac-dev libfaad-dev libgsm1-dev libopencore-amrnb-dev libopencore-amrwb-dev libsamplerate0-dev libjack-dev libsox-dev ladspa-sdk swh-plugins libmad0-dev libpango1.0-dev libass-dev libfdk-aac-dev libopus-dev libvpx-dev libx264-dev libx265-dev

#8
apt install libcurl4-gnutls-dev libgtk2.0-dev libsqlite3-dev nettle-dev libgeoclue-2-dev libgexiv2-dev libgps-dev libmagic-dev libbz2-dev libzip-dev liboauth-dev 

#9
apt installruby ruby-dev 
gem install jekyll

#10
apt install squashfs-tools live-boot live-config live-boot-initramfs-tools live-config-sysvinit libburn4 libjte1 libisofs6 libisoburn1 xorriso isolinux 

apt install qgis

#for compton build
 asciidoc xsltproc libconfig-dev
 
#update clamtk virus definitions with
freshclam

</textarea>
&nbsp;<input type="button" class="submitLink" value="Select all" onClick="javascript:this.form.T.focus();this.form.T.select();">
</form>

<br><br>
<br>
<b>Next page: 
<br><br>
<h3><b><a style="font-size: 1.2em; " href="{{site.baseurl}}/netinstall/upgrade.html">Upgrading Debian</a> - package updating, release upgrade, kernel upgrade</b>
<br><br>

<br>
</div>
